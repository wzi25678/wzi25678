首页
下载APP
会员
IT技术
搜索
ubuntu20删除8.0MySQL安装5.7mysql

AlexcgCooper
ubuntu20删除8.0MySQL安装5.7mysql

AlexcgCooper
IP属地: 上海
0.115
2022.10.31 17:57:33
字数 755
阅读 375
Ubuntu20默认的安装的MySQL数据库是8.0的 所以不能使用apt安装 需要自己下载安装包安装

我开始没有卸载8.0的mysql 在安装的时候就会发现存在client-8.0等跟你装的包冲突 所以你需要先卸载8.0的mysql

1、卸载MySQL8.0：
停MySQL服务：

sudo service mysql stop

卸载mysql（此处暂时先删掉你下载5.7版本的所有，不然会报找不到的错）

sudo apt purge mysql-*

删除mysql的文件包

sudo rm -rf /etc/mysql/
sudo rm -rf /var/lib/mysql*

删除apt中的包

sudo apt autoremove
sudo apt autoclean

再次清理

dpkg -l |grep ^rc|awk '{print $2}' |sudo xargs dpkg -P

理论上已经全部删除，但是有可能还会有mysql的包 ，使用下面语句查看是否还有其他依赖以及包

dpkg --list | grep mysql

如果还有包，用下面语句一个一个删

dpkg -P +软件包名称

2、安装mysql5.7.31
个人比较喜欢每个软件以及文件都放在一个文件夹里，好区分 你们安装可以不创建新的文件夹

创建文件夹并进入创建的文件夹

mkdir mysql5.7.31
cd ~/mysql5.7.31

下载

wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-server_5.7.31-1ubuntu18.04_amd64.deb-bundle.tar

解压

sudo tar -vxf mysql-server_5.7.31-1ubuntu18.04_amd64.deb-bundle.tar


image.png
删除两个文件并把5.7的压缩包移到外面

sudo rm -f mysql-testsuite_5.7.31-1ubuntu18.04_amd64.deb
sudo rm -f mysql-community-test_5.7.31-1ubuntu18.04_amd64.deb
sudo mv mysql-server_5.7.31-1ubuntu18.04_amd64.deb-bundle.tar ~/Desktop

安装依赖

sudo apt-get install libtinfo5
sudo apt-get install libmecab2

使用deb安装

sudo dpkg -i mysql-*.deb

可能就会出现很多缺少依赖等

image.png
下载安装依赖（这时候安装的时候是需要输入初始密码的）

sudo apt install libaio1

剩下的可以看到是我们安装的时候顺序的原因造成的（我是再次一个一个安装的）
安装

sudo dpkg -i mysql-community-client_5.7.31-1ubuntu18.04_amd64.deb
sudo dpkg -i mysql-client_5.7.31-1ubuntu18.04_amd64.deb
sudo dpkg -i mysql-community-server_5.7.31-1ubuntu18.04_amd64.deb
sudo dpkg -i mysql-server_5.7.31-1ubuntu18.04_amd64.deb

最后再重新走了一次全部安装

sudo dpkg -i mysql-*.deb

到这里就是安装好了,启动服务，查看是否服务状态

sudo service mysql start
sudo service mysql status

修改监听

sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf
注释掉bind-address = 127.0.0.1， 即#bind-address = 127.0.0.1

3、配置除本地外其他客户端可访问

登录数据库
mysql -u root -p

选择数据库
use mysql;

修改root用户可以在所有机器登录（root只是举例，%表示所有机器）
update user set host = '%' where user = 'root';

重启服务
sudo /etc/init.d/mysql restart

4、修改配置文件（忽略表名的大小写）

sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf

将： lower_case_table_names=1 添加到 [mysqld] 位置下

更多精彩内容，就在简书APP
"小礼物走一走，来简书关注我"
还没有人赞赏，支持一下
  
AlexcgCooper
总资产0.115共写了4171字获得11个赞共1个粉丝
写下你的评论...
全部评论
0
推荐阅读
更多精彩内容
[Note-0z] Ubuntu18.04必备的22款软件(安装详解) - 知乎 - 2020...
Ubuntu18.04必备的22款软件(安装详解) - 知乎 来源：https://zhuanlan.zhihu....

e18ea5ca8301
阅读 947
评论 0
赞 0

Ubuntu 20.04上安装和配置MySql5.7
1. Ubuntu换源 ubuntu 20.04系统自带源直接安装是MySQL 8.0，我要安装MySQL 5.7...

Wly小灰
阅读 406
评论 0
赞 1

ubuntu安装mysql8.0
为什么要做这个呢？因为不知道为什么我Ubuntu18.04 安装MySQL5.7 之后，终端不能输入中文。网上的方...

Aedda
阅读 4,934
评论 1
赞 3
ubuntu16安装MySQL5.7【转】
安装主程序 主程序安装就我知道有两种方式： 使用apt-get全自动安装 # 安装命令 apt``-get ins...

折花载酒z
阅读 238
评论 0
赞 2
亲测Ubuntu18下安装MySQL不能登录问题
1.Ubuntu18.04 安装采用sudo apt install mysql-server 后，发现在安装过程...

星chen
阅读 443
评论 0
赞 0

ubuntu18.04 安装mysql8.0
直接使用apt install mysql-server安装，那么恭喜你踩坑。 sudo apt install ...

倚南_Determined
阅读 2,434
评论 0
赞 1

Ubuntu14.04手动安装最新版mysql
1、下载安装包 MySQL官网下载地址 选择系统版本Ubuntu14.04后缀名为deb_bundle.tar的进...

BppleMan
阅读 3,032
评论 0
赞 4

Ubuntu创建Mysql8.0
1下载Mysql8.0 sudo wget https://repo.mysql.com//mysql-apt-c...

BlackBright_
阅读 835
评论 0
赞 2

Ubuntu20.04 安装 MySQL5.7
安装准备： 安装MySQL5.7时需要到MySQL官网下载对应的deb包 下载地址 MySQL需要使用的包：(**...

Hi晨Sir
阅读 12,814
评论 3
赞 4
深度学习电脑配置及安装
最近想给深度学习配置一台服务器，查了很多资料，做了不少功课，前前后后花了不少时间，总结出来，希望后人避免走坑： 硬...

小厨神
阅读 1,012
评论 0
赞 0
Ubuntu 离线安装Mysql
一、安装包 先从网络上，下载Mysql安装包下载地址：https://dev.mysql.com/download...

吟风者
阅读 1,895
评论 0
赞 2
arm64架构下Ubuntu安装配置mysql5.7
  因为工作测试需要，有一块NVIDIA Jetson TX2的板子需要安装mysql进行huge connect...

紫狐挽诗
阅读 5,641
评论 0
赞 0

ubuntu和centos7下安装mysql5.7
一、ubuntu下mysql安装 1.安装环境 ubuntu17.04 64位操作系统和ubuntu16.04 3...

匿名wm
阅读 2,630
评论 0
赞 3

Ubuntu 18.04 Xsens MT Manager安装指南
更新日期：2021-11-23 联系人：support@xsens.com[mailto:support@xsen...

xsenschina
阅读 1,681
评论 0
赞 0

Ubuntu14 安装mysql5.7
一丶下载bundle包 首先到mysql官网下载合适的mysql安装tar包（https://downloads....

浪漫矢志不渝
阅读 323
评论 0
赞 2

targetSdkVersion升级到28一些修改的地方(持续更新)
前言 Google Play应用市场对于应用的targetSdkVersion有了更为严格的要求。从 2018 年...

申国骏
阅读 60,387
评论 14
赞 98
来，我们说说孤独
《来，我们说说孤独》 1·他们都在写孤独 一个诗人 如果 不说说 内心的孤独 不将孤独 写进诗里 是不是很掉价呢 ...

听太阳升起
阅读 4,068
评论 1
赞 7

《承欢记》
自幼贫民窟长大的女子，侥幸多念了两本书，枉以为可以与人平起平坐。可是人生从来都是接力赛，我们却天真的当成了百米冲刺...

Leeanran
阅读 5,111
评论 1
赞 5
云舒老师
云舒老师，姓甚名谁，男的女的，多大岁数，这些我全然不知。之所以要写写云舒老师，完全是因为他写的文章，如一个巨大的磁...

数豆者m
阅读 2,037
评论 6
赞 9
2018-07-18 字符的基础操作
"""1.个性化消息: 将用户的姓名存到一个变量中，并向该用户显示一条消息。显示的消息应非常简单，如“Hello ...

她即我命
阅读 1,513
评论 0
赞 4

AlexcgCooper
总资产0.115
centOS7安装MySQL5.7
阅读 18
破解javaIDEA
阅读 403
热门故事
小心！白月光有毒
必看！全网点赞超10w+的短篇脑洞甜文！
女明星穿越假扮太子，皇帝老爹还不知道我是女儿身！
基因改良，从现在开始人类也可以个性定制！
我拒绝过的男人成了我家的救命稻草…
推荐阅读
Linux学习记录
阅读 395
docker-compose常用命令
阅读 239
搭建MySQL服务器
阅读 188
nginx 在linux服务器下进行源码包安装和开机自启
阅读 168
在Mac上配置Vue开发环境
阅读 249
写下你的评论...
×
拖拽到此处
图片将完成下载
×
拖拽到此处
图片将完成下载
